# 지도 수정

9월 21일 내용에 이어서 정리한다.

추석과 이사가 겹쳐서 데이터 베이스 부분만 수정을 진행했고, 지도는 집중해서 해야 하는 작업이라 작업 후순위로 밀려 있었다. 그래서 이전에 제기되었던 문제들을 이제 검토하게 되었고 이를 정리해본다.

## 1. 상세 페이지 지도 검토

### 1-1. 개선할 점 목록

- [v] 라인에 대한 hover 기능이 작동하지 않는다.
  - 클래스를 이용해 해결했다. 해당 일자의 라인은 해당 일자의 feature와 order가 같을 것이고, 이 조건을 이용해 색출한 geometry.type === 'lineString' 인 것들에 기존 addLayer와 다른 레이어를 덮어 씌우는 형식으로 구현했다.
  - 비용을 더 줄일 수 있는 로직을 고민해야 한다.
- [ ] order가 여러개라 사이드바에 표시할 대표 order를 어떻게 구별할지 규칙 필요
- [ ] 지도에 표시되는 order가 똑같아서 대표 order를 어떻게 구별하고 표시할지 규칙 필요
- [ ] 라인 색이 진해서 opacity를 적용하면 라인이 겹치는 부분은 진해져서 통일감이 사라짐.
- [v] javascript 형식으로 이벤트 처리를 해야 원할히 작동하니 잔고장 없는 코드 고민 필요
  - 상태 관리를 버리고 이벤트 핸들러를 이용한 처리 방법으로 해결했다.
  - 양방향 이벤트는 처리 완료
